# Desktop Optimized Kernel Configuration Preset
# Optimized for desktop and workstation use

[config_options]
# 处理器优化
CONFIG_MCORE2 = y
CONFIG_SMP = y
CONFIG_HIGH_RES_TIMERS = y
CONFIG_PREEMPT_VOLUNTARY = y

# 桌面特性
CONFIG_HID = y
CONFIG_HID_GENERIC = y
CONFIG_INPUT = y
CONFIG_INPUT_EVDEV = y
CONFIG_INPUT_KEYBOARD = y
CONFIG_INPUT_MOUSE = y
CONFIG_INPUT_JOYSTICK = y
CONFIG_INPUT_TOUCHSCREEN = y
CONFIG_USB_HID = y

# 图形支持
CONFIG_DRM = y
CONFIG_DRM_I915 = y
CONFIG_DRM_AMDGPU = y
CONFIG_DRM_NOUVEAU = y
CONFIG_FB = y
CONFIG_FRAMEBUFFER_CONSOLE = y

# 声音支持
CONFIG_SOUND = y
CONFIG_SND = y
CONFIG_SND_HDA_INTEL = y
CONFIG_SND_USB_AUDIO = y

# 文件系统
CONFIG_EXT4_FS = y
CONFIG_BTRFS_FS = y
CONFIG_XFS_FS = y
CONFIG_F2FS_FS = y
CONFIG_NTFS_FS = y
CONFIG_VFAT_FS = y
CONFIG_ISO9660_FS = y

# 网络
CONFIG_NET = y
CONFIG_INET = y
CONFIG_IPV6 = y
CONFIG_WIRELESS = y
CONFIG_CFG80211 = y
CONFIG_MAC80211 = y
CONFIG_WLAN = y

# 虚拟化
CONFIG_KVM = y
CONFIG_VIRTIO = y

# 电源管理
CONFIG_PM = y
CONFIG_ACPI = y
CONFIG_CPU_FREQ = y
CONFIG_INTEL_IDLE = y
CONFIG_AMD_IOMMU = y

# 性能优化
CONFIG_TRANSPARENT_HUGEPAGE = y
CONFIG_COMPACTION = y
CONFIG_SWAP = y
CONFIG_ZSWAP = y

[compilation]
optimization_level = 2
debug_symbols = true
custom_cflags = -march=native -O2 -pipe
custom_ldflags = -Wl,-O1,--sort-common,--as-needed,-z,relro,-z,now